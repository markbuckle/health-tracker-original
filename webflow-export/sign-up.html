<!DOCTYPE html>
<html lang="en" data-wf-page="6607e93606f6bdfff24355e2" data-wf-site="6606de22e8c152e6b19be98a">
<head>
  <meta charset="utf-8">
  <title>Personalized Health Dashboard</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/healthdashboard.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["PT Sans:400,400italic,700,700italic","Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <meta name="csrf-token" content="your-csrf-token-here">
  <script src="https://unpkg.com/@apollo/client@3.7.14/dist/apollo-client.js"></script>
  <script src="https://unpkg.com/graphql-tag@2.12.6/lib/index.js"></script>
</head>
<body class="body-2">
  <a href="index.html" class="link-block-8 w-inline-block" aria-label="Home">
    <img src="images/logo2_1.png" loading="lazy" sizes="200px" srcset="images/logo2_1-p-500.png 500w, images/logo2_1.png 681w" alt="Company Logo">
  </a>
  <div class="w-users-userformpagewrap sign-up-wrapper">
    <div class="sign-up-block">
      <div class="w-users-usersignupformwrapper sign-up-form-block-2">
        <div tabindex="-1" class="w-users-userformsuccessstate w-form-success">
          <div class="w-users-userformheader"><img src="https://d3e54v103j8qbb.cloudfront.net/img/thumbs-up-72.cbcaec93bc.svg" loading="lazy" alt="">
            <h2>Account activated</h2>
          </div>
          <p>Your account was created successfully. You will be redirected shortly.</p>
          <div data-wf-user-form-redirect="">
            <a href="index.html" class="w-inline-block">If nothing happens, click here.</a>
          </div>
        </div>
        <form id="signup-form" method="post" data-wf-user-form-type="signup">
          <div class="w-users-userformheader">
            <h2 class="heading-5">Sign up</h2>
          </div>
          <label for="wf-sign-up-name" class="field-label-4">Name</label>
          <input class="w-input" maxlength="100" name="name" data-name="Name" data-wf-user-field="wf-user-field-name" placeholder="Enter your full name" type="text" id="wf-sign-up-name" required>
          <label for="wf-sign-up-email" class="field-label-3">Email</label>
          <input maxlength="100" placeholder="Enter your email" name="email" id="wf-sign-up-email" class="w-input" type="email" autocomplete="email" data-wf-user-form-input-type="email" required>
          <label for="wf-sign-up-password" class="field-label-5">Password</label>
          <input data-name="Password" maxlength="256" placeholder="Enter your password" name="password" id="wf-sign-up-password" class="w-input" type="password" autocomplete="new-password" data-wf-user-form-input-type="password" required>
          <label for="wf-sign-up-confirm-password" class="field-label-5">Confirm Password</label>
          <input data-name="ConfirmPassword" maxlength="256" placeholder="Confirm your password" name="confirmPassword" id="wf-sign-up-confirm-password" class="w-input" type="password" autocomplete="new-password" required>
          <label class="w-checkbox">
            <input class="w-checkbox-input" name="acceptPrivacy" data-name="Accept Privacy" data-wf-user-field="wf-user-field-accept-privacy" type="checkbox" id="wf-sign-up-accept-privacy" required>
            <span class="checkbox-label w-form-label">By creating an account, I agree to this website's 
              <a href="#" class="w-inline-block" title="Privacy Policy">privacy policy</a> and <a href="#" class="w-inline-block" title="Terms of Service">terms of service</a>
            </span>
          </label>
          <input type="submit" data-wait="Please wait..." class="w-users-userformbutton submit-button-3 w-button" value="Sign Up">
          <div class="w-users-userformfooter form-footer">
            <span class="text-span-11">Already have an account?</span>
            <a href="log-in.html" class="link-block-6 w-inline-block" title="Log In">Log In</a>
          </div>
        </form>
        <div style="display:none" data-wf-user-form-error="true" class="w-users-userformerrorstate w-form-fail">
          <div class="user-form-error-msg" wf-signup-form-general-error-error="There was an error signing you up. Please try again, or contact us if you continue to have problems." wf-signup-form-not-allowed-error="You&#x27;re not allowed to access this site, please contact the admin for support." wf-signup-form-invalid-email-error="Make sure your email exists and is properly formatted (e.g., user@domain.com)." wf-signup-form-email-already_exist-error="An account with this email address already exists. Log in or reset your password." wf-signup-form-use-invite_email-error="Use the same email address your invitation was sent to." wf-signup-form-invalid-password-error="Your password must be at least 8 characters." wf-signup-form-not-verified-error="We couldn&#x27;t verify your account. Please try again, or contact us if you continue to have problems." wf-signup-form-expired-token-error="This link has expired. A new link has been sent to your email. Please try again, or contact us if you continue to have problems." wf-signup-form-validation-failed-error="There was an error in some of the information provided.">There was an error signing you up. Please try again, or contact us if you continue to have problems.</div>
        </div>
        <div tabindex="-1" class="w-users-usersignupverificationmessage w-form-verification" data-wf-user-form-verification="true">
          <div class="w-users-userformheader"><img src="https://d3e54v103j8qbb.cloudfront.net/img/email-72.67fa6be437.svg" loading="lazy" alt="">
            <h2>Verification Required</h2>
          </div>
          <p>Account verification required. Please check your email to find your unique verification link.</p>
        </div>
      </div>
      <div class="form-bottom">
        <p class="paragraph-5">By clicking the button above, you agree to our <a href="#" class="link-4">terms of use</a> and <a href="#" class="link-4">privacy policies</a>
        </p>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=6606de22e8c152e6b19be98a" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <script>
    // Create an Apollo Client instance
    const client = new ApolloClient.ApolloClient({
      uri: '/graphql',
      cache: new ApolloClient.InMemoryCache(),
      headers: {
        'X-CSRF-Token': document.querySelector('meta[name="csrf-token"]')?.getAttribute('content')
      }
    });

    document.getElementById('signup-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const email = document.getElementById('wf-sign-up-email').value;
      const name = document.getElementById('wf-sign-up-name').value;
      const password = document.getElementById('wf-sign-up-password').value;
      const confirmPassword = document.getElementById('wf-sign-up-confirm-password').value;
      const acceptPrivacy = document.getElementById('wf-sign-up-accept-privacy').checked;

      if (!acceptPrivacy) {
        alert('You must accept the privacy policy and terms of service to sign up.');
        return;
      }

      if (password !== confirmPassword) {
        alert('Passwords do not match. Please try again.');
        return;
      }

      try {
        const { data } = await client.mutate({
          mutation: gql`
            mutation RegisterUser($email: String!, $password: String!, $firstName: String!, $lastName: String!) {
              registerUser(email: $email, password: $password, firstName: $firstName, lastName: $lastName) {
                // fields you expect back
              }
            }
          `,
          variables: { 
            email, 
            password, 
            firstName: name.split(' ')[0], 
            lastName: name.split(' ').slice(1).join(' ')
          },
        });

        // Handle successful registration
      } catch (error) {
        console.error('Error:', error);
        let errorMessage = 'An error occurred. Please try again.';
        
        if (error.message.includes('Failed to fetch')) {
          errorMessage = 'Unable to connect to the server. Please check your internet connection and try again.';
        } else if (error.message.includes('HTTP error!')) {
          errorMessage = 'The server encountered an error. Please try again later.';
        }

        // Show error message
        const errorElement = document.querySelector('.w-users-userformerrorstate');
        errorElement.style.display = 'block';
        errorElement.querySelector('.user-form-error-msg').textContent = errorMessage;
      }
    });
  </script>
</body>
</html>
